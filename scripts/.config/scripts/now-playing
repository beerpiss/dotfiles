#!/bin/bash
get_icon(){
    case $1 in
        Playing) icon="";;
        Paused)  icon="";;
        *)       icon="";
    esac
    
    echo "   $icon  "
}

if [[ "$(playerctl status)" = "No players found" || "$(playerctl metadata)" = "No player could handle this command" ]]; then
    echo "     "
    exit 0
fi

cat <(get_icon $(playerctl status)) <(playerctl metadata --format "{{ artist }} - {{ title }}") <(playerctl position --format "({{ duration(position) }}/" | tr -d "[:space:]") <(playerctl metadata --format "{{ duration(mpris:length) }})") | tr "\n" " "
